(function(){"use strict";var t={1433:function(t,e,a){var s=a(6848),i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},r=[],o={name:"App",components:{}},n=o,p=a(1656),c=(0,p.A)(n,i,r,!1,null,null,null),l=c.exports,u=a(6178),d=function(){var t=this,e=t._self._c;return e("div",{staticClass:"auth-page"},[e("AuthWindow")],1)},m=[],_=function(){var t=this,e=t._self._c;return e("div",{staticClass:"auth-window"},[t._m(0),e("form",{staticClass:"auth__inputs",on:{submit:function(e){return e.preventDefault(),t.submitForm.apply(null,arguments)}}},[e("h2",{staticClass:"inputs__title"},[t._v("Логин или Телефон")]),e("div",{staticClass:"inputs__input-wrapper"},[e("img",{staticClass:"input-icon",attrs:{src:a(6345)}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"contacts__input",attrs:{type:"number",placeholder:"79122333444"},domProps:{value:t.username},on:{input:[function(e){e.target.composing||(t.username=e.target.value)},t.phoneMask]}})]),e("div",{staticClass:"inputs__input-wrapper"},[e("img",{staticClass:"input-icon",attrs:{src:a(5482)}}),"checkbox"===(t.isShowPassword?"text":"password")?e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"contacts__input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.password)?t._i(t.password,null)>-1:t.password},on:{change:function(e){var a=t.password,s=e.target,i=!!s.checked;if(Array.isArray(a)){var r=null,o=t._i(a,r);s.checked?o<0&&(t.password=a.concat([r])):o>-1&&(t.password=a.slice(0,o).concat(a.slice(o+1)))}else t.password=i}}}):"radio"===(t.isShowPassword?"text":"password")?e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"contacts__input",attrs:{type:"radio"},domProps:{checked:t._q(t.password,null)},on:{change:function(e){t.password=null}}}):e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"contacts__input",attrs:{type:t.isShowPassword?"text":"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),e("button",{staticClass:"show__password-btn",attrs:{type:"button"},on:{click:t.togglePassword}},[e("img",{staticClass:"input-icon",staticStyle:{"margin-left":"auto"},attrs:{src:a(4426)}})])]),e("button",{staticClass:"login__button",attrs:{type:"submit"}},[t._v("Войти")]),t.errorMessage?e("p",{staticClass:"error-message"},[t._v(t._s(t.errorMessage))]):t._e()])])},g=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"auth__title-wrapper"},[e("h1",{staticClass:"auth__title"},[t._v("Авторизация")])])}],h=a(3518);function v(t){let e=t.target.value.replace(/\D/g,"");e.length>11&&(e=e.slice(0,11)),e.length>0&&"7"!==e[0]&&(e="7"+e),e.length>1&&"9"!==e[1]&&(e=e[0]+"9"+e.slice(1)),this.username=e}var f={name:"AuthWindow",data(){return{username:"",password:"",isShowPassword:!1}},computed:{...(0,h.aH)(["errorMessage"])},methods:{...(0,h.i0)(["login"]),togglePassword(){this.isShowPassword=!this.isShowPassword},async submitForm(){const t={username:this.username,password:this.password};try{await this.login({credentials:t,router:this.$router})}catch(e){console.error("Ошибка авторизации: ",e)}},phoneMask:v}},P=f,S=(0,p.A)(P,_,g,!1,null,"53837abe",null),w=S.exports,C={name:"AuthPage",components:{AuthWindow:w}},b=C,T=(0,p.A)(b,d,m,!1,null,"78058bbb",null),k=T.exports,y=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tasks-page"},[e("h1",{staticClass:"page__title"},[t._v("Список заявок")]),e("TasksList")],1)},D=[],E=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tasks-list"},[e("button",{staticClass:"search__button",on:{click:t.openPopup}},[t._v("Создать")]),e("div",{staticClass:"list__inputs-wrapper"},[e("div",{staticClass:"search-wrapper"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],staticClass:"input__search",attrs:{placeholder:"Поиск (№ заявки, название)"},domProps:{value:t.searchQuery},on:{input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}}),e("button",{staticClass:"search__btn",on:{click:t.onSearchClick}},[e("img",{attrs:{src:a(4343)}})])]),e("div",{staticClass:"search-wrapper"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.addressSearchQuery,expression:"addressSearchQuery"}],staticClass:"input__search",attrs:{placeholder:"Адрес"},domProps:{value:t.addressSearchQuery},on:{input:function(e){e.target.composing||(t.addressSearchQuery=e.target.value)}}}),e("button",{staticClass:"search__btn",on:{click:t.onAddressSearchClick}},[e("img",{attrs:{src:a(4343)}})])])]),t._m(0),t._l(t.filteredTasks,(function(a){return e("div",{key:a.id,staticClass:"list__table"},[e("div",{staticClass:"table__slot num-slot"},[e("button",{staticClass:"table__change-btn",on:{click:function(e){return t.openEditPopup(a)}}},[t._v(t._s(a.id.slice(0,2)))])]),e("div",{staticClass:"table__slot date-slot"},[a.created_at?e("p",{staticClass:"table__item text-item"},[t._v(t._s(t.formatDate(a.created_at)))]):t._e()]),e("div",{staticClass:"table__slot address-slot"},[a.premise?e("p",{staticClass:"table__item text-item"},[t._v(t._s(a.premise.address)+", кв. "+t._s(a.premise.apartments_count))]):t._e()]),e("div",{staticClass:"table__slot user-slot"},[a.applicant.last_name&&a.applicant.first_name&&a.applicant.patronymic_name?e("p",{staticClass:"table__item text-item"},[t._v(" "+t._s(a.applicant.last_name)+". "+t._s(a.applicant.first_name.slice(0,1))+". "+t._s(a.applicant.patronymic_name.slice(0,1))+" ")]):t._e()]),e("div",{staticClass:"table__slot description-slot"},[a.description?e("p",{staticClass:"table__item text-item"},[t._v(t._s(a.description))]):t._e()]),e("div",{staticClass:"table__slot time-slot"},[a.due_date?e("p",{staticClass:"table__item text-item"},[t._v(t._s(t.formatDateWithTime(a.due_date)))]):t._e()]),e("div",{staticClass:"table__slot status-slot"},[a.status.name?e("p",{staticClass:"table__item text-item"},[t._v(t._s(a.status.name))]):t._e()])])})),e("BasePagination",{attrs:{tasks:t.tasks}}),e("BasePopup")],2)},A=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"list__table",staticStyle:{height:"45px"}},[e("div",{staticClass:"table__slot num-slot"},[e("p",{staticClass:"table__item header-item"},[t._v("№")]),e("img",{attrs:{src:a(6688)}})]),e("div",{staticClass:"table__slot date-slot"},[e("p",{staticClass:"table__item header-item"},[t._v("Создана")]),e("img",{attrs:{src:a(6688)}})]),e("div",{staticClass:"table__slot address-slot"},[e("p",{staticClass:"table__item header-item"},[t._v("Адрес")]),e("img",{attrs:{src:a(6688)}})]),e("div",{staticClass:"table__slot user-slot"},[e("p",{staticClass:"table__item header-item"},[t._v("Заявитель")]),e("img",{attrs:{src:a(6688)}})]),e("div",{staticClass:"table__slot description-slot"},[e("p",{staticClass:"table__item header-item"},[t._v("Описание")]),e("img",{attrs:{src:a(6688)}})]),e("div",{staticClass:"table__slot time-slot"},[e("p",{staticClass:"table__item header-item"},[t._v("Срок")]),e("img",{attrs:{src:a(6688)}})]),e("div",{staticClass:"table__slot status-slot"},[e("p",{staticClass:"table__item header-item"},[t._v("Статус")]),e("img",{attrs:{src:a(6688)}})])])}];a(8992),a(4520),a(4603),a(7566),a(8721);function x(t){const e=new Date(t),a=e.getDate().toString().padStart(2,"0"),s=(e.getMonth()+1).toString().padStart(2,"0"),i=e.getFullYear();return`${a}.${s}.${i}`}function O(t){const e=new Date(t),a=e.getDate().toString().padStart(2,"0"),s=(e.getMonth()+1).toString().padStart(2,"0"),i=e.getFullYear(),r=e.getHours().toString().padStart(2,"0"),o=e.getMinutes().toString().padStart(2,"0");return`${a}.${s}.${i} ${r}:${o}`}var N=function(){var t=this,e=t._self._c;return e("div",{staticClass:"base-pagination"},[e("div",{staticClass:"pagination__count-wrapper"},[e("div",{staticClass:"pages__count-wrapper"},[e("p",{staticClass:"pages__count"},[t._v("1 — 10 "),e("span",[t._v("из")]),t._v(" "+t._s(t.tasks.count)+" "),e("span",[t._v("записей")])])]),e("div",{staticClass:"pages__select-wrapper"},[e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.pageSize,expression:"pageSize",modifiers:{number:!0}}],staticClass:"select__input",attrs:{type:"number"},domProps:{value:t.pageSize},on:{input:[function(e){e.target.composing||(t.pageSize=t._n(e.target.value))},t.validatePageSize],blur:function(e){return t.$forceUpdate()}}}),t.isDropdownOpen?e("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeDropdown,expression:"closeDropdown"}],staticClass:"select__dropdown"},[e("p",{staticClass:"dropdown__items",on:{click:function(e){return t.setPageSize(10)}}},[t._v("10")]),e("p",{staticClass:"dropdown__items",on:{click:function(e){return t.setPageSize(20)}}},[t._v("20")]),e("p",{staticClass:"dropdown__items",on:{click:function(e){return t.setPageSize(30)}}},[t._v("30")]),e("p",{staticClass:"dropdown__items",on:{click:function(e){return t.setPageSize(40)}}},[t._v("40")]),e("p",{staticClass:"dropdown__items",on:{click:function(e){return t.setPageSize(50)}}},[t._v("50")])]):t._e(),e("button",{staticClass:"select__button",on:{click:t.openDropdown}},[e("img",{staticClass:"arrow__icon",attrs:{src:a(7446)}})])])]),e("div",{staticClass:"pagination__items"},[e("button",{staticClass:"pagination__button button__left",on:{click:t.goToFirstPage}},[e("img",{attrs:{src:a(2616)}})]),e("button",{staticClass:"pagination__button",on:{click:t.goToPreviousPage}},[e("img",{attrs:{src:a(3562)}})]),t._l(t.visiblePages,(function(a){return e("button",{key:a,staticClass:"pagination__button",class:{active:a===t.currentPage},on:{click:function(e){return t.goToPage(a)}}},[t._v(" "+t._s(a)+" ")])})),t.currentPageGroup*t.pagesPerGroup<t.tasks.pages?e("button",{staticClass:"pagination__button",on:{click:t.showNextPages}},[t._v("...")]):t._e(),t.currentPage===t.tasks.pages||t.visiblePages.includes(t.tasks.pages)?t._e():e("button",{staticClass:"pagination__button",class:{active:t.currentPage===t.tasks.pages},on:{click:t.goToLastPage}},[t._v(" "+t._s(t.tasks.pages)+" ")]),e("button",{staticClass:"pagination__button",on:{click:t.goToNextPage}},[e("img",{attrs:{src:a(2396)}})]),e("button",{staticClass:"pagination__button button__right",on:{click:t.goToLastPage}},[e("img",{attrs:{src:a(2687)}})])],2)])},z=[],G=(a(4114),{name:"BasePagination",data(){return{currentPageGroup:1,pagesPerGroup:5,pageSize:10,isDropdownOpen:!1}},computed:{...(0,h.aH)(["tasks","currentPage"]),visiblePages(){const t=(this.currentPageGroup-1)*this.pagesPerGroup+1,e=Math.min(t+this.pagesPerGroup-1,this.tasks.pages);return Array.from({length:e-t+1},((e,a)=>t+a))}},methods:{...(0,h.i0)(["fetchTasks"]),async goToPage(t){try{await this.fetchTasks({page:t,pageSize:this.pageSize}),this.$router.push({query:{page:t,page_size:this.pageSize}})}catch(e){if("NavigationDuplicated"!==e.name)throw e}},showNextPages(){this.currentPageGroup*this.pagesPerGroup<this.tasks.pages&&(this.currentPageGroup++,this.goToPage((this.currentPageGroup-1)*this.pagesPerGroup+1))},goToPreviousPage(){this.currentPage>1&&(this.currentPage===this.visiblePages[0]&&this.currentPageGroup--,this.goToPage(this.currentPage-1))},goToNextPage(){this.currentPage<this.tasks.pages&&(this.currentPage===this.visiblePages[this.visiblePages.length-1]&&this.currentPageGroup++,this.goToPage(this.currentPage+1))},goToFirstPage(){this.currentPageGroup=1,this.goToPage(1)},goToLastPage(){this.currentPageGroup=Math.ceil(this.tasks.pages/this.pagesPerGroup),this.goToPage(this.tasks.pages)},validatePageSize(){this.pageSize<1?this.pageSize=1:this.pageSize>50&&(this.pageSize=50),this.fetchTasks({page:this.currentPage,pageSize:this.pageSize})},openDropdown(){this.isDropdownOpen=!0},closeDropdown(){this.isDropdownOpen=!1},setPageSize(t){this.pageSize=t,this.closeDropdown(),this.fetchTasks({page:this.currentPage,pageSize:this.pageSize}),this.$router.push({query:{page:this.currentPage,page_size:this.pageSize}})}},mounted(){this.fetchTasks({page:this.currentPage,pageSize:this.pageSize})}}),I=G,R=(0,p.A)(I,N,z,!1,null,"36e86c36",null),$=R.exports,Q=function(){var t=this,e=t._self._c;return t.isCreatePopupOpen?e("div",{staticClass:"base-popup"},[e("div",{staticClass:"popup__overlay",on:{click:t.closePopup}}),e("form",{staticClass:"popup-wrapper",on:{submit:function(e){return e.preventDefault(),t.submitAppeal.apply(null,arguments)}}},[e("div",{staticClass:"popup__title-wrapper"},[e("h1",{staticClass:"popup__title"},[t._v(t._s(t.editingTask?"Редактирование":"Создание"))]),e("h2",{staticClass:"task__title"},[t._v(t._s(t.editingTask?"Существующая":"Новая"))])]),e("div",{staticClass:"popup__inputs-wrapper"},[e("div",{staticClass:"input-wrapper"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.premise.address,expression:"formData.premise.address"}],staticClass:"input__item",attrs:{placeholder:"Дом"},domProps:{value:t.formData.premise.address},on:{input:function(e){e.target.composing||t.$set(t.formData.premise,"address",e.target.value)}}}),e("img",{attrs:{src:a(7446)}})]),e("div",{staticClass:"input-wrapper"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.premise.apartments_count,expression:"formData.premise.apartments_count"}],staticClass:"input__item",attrs:{placeholder:"Квартира"},domProps:{value:t.formData.premise.apartments_count},on:{input:function(e){e.target.composing||t.$set(t.formData.premise,"apartments_count",e.target.value)}}}),e("img",{attrs:{src:a(7446)}})]),e("div",{staticClass:"input-wrapper"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formattedDueDate,expression:"formattedDueDate"}],staticClass:"input__item",attrs:{type:"datetime-local",placeholder:"Срок"},domProps:{value:t.formattedDueDate},on:{input:function(e){e.target.composing||(t.formattedDueDate=e.target.value)}}})])]),e("div",{staticClass:"popup__inputs-wrapper"},[e("div",{staticClass:"input-wrapper"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.applicant.last_name,expression:"formData.applicant.last_name"}],staticClass:"input__item",attrs:{placeholder:"Фамилия"},domProps:{value:t.formData.applicant.last_name},on:{input:function(e){e.target.composing||t.$set(t.formData.applicant,"last_name",e.target.value)}}})]),e("div",{staticClass:"input-wrapper"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.applicant.first_name,expression:"formData.applicant.first_name"}],staticClass:"input__item",attrs:{placeholder:"Имя"},domProps:{value:t.formData.applicant.first_name},on:{input:function(e){e.target.composing||t.$set(t.formData.applicant,"first_name",e.target.value)}}})]),e("div",{staticClass:"input-wrapper"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.applicant.patronymic_name,expression:"formData.applicant.patronymic_name"}],staticClass:"input__item",attrs:{placeholder:"Отчество"},domProps:{value:t.formData.applicant.patronymic_name},on:{input:function(e){e.target.composing||t.$set(t.formData.applicant,"patronymic_name",e.target.value)}}})]),e("div",{staticClass:"input-wrapper"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.applicant.username,expression:"formData.applicant.username"}],staticClass:"input__item",attrs:{placeholder:"Телефон"},domProps:{value:t.formData.applicant.username},on:{input:function(e){e.target.composing||t.$set(t.formData.applicant,"username",e.target.value)}}})])]),e("div",{staticClass:"popup__inputs-wrapper",staticStyle:{height:"auto"}},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formData.description,expression:"formData.description"}],staticClass:"input__item input__area",attrs:{placeholder:"Описание заявки"},domProps:{value:t.formData.description},on:{input:function(e){e.target.composing||t.$set(t.formData,"description",e.target.value)}}})]),e("button",{staticClass:"create__task-button",attrs:{type:"submit"}},[t._v(t._s(t.editingTask?"Сохранить":"Создать"))])])]):t._e()},M=[],L=(a(1454),{name:"BasePopup",data(){return{formData:{premise:{address:"",apartments_count:""},due_date:"",applicant:{last_name:"",first_name:"",patronymic_name:"",username:""},description:""}}},computed:{...(0,h.aH)(["isCreatePopupOpen","editingTask","editingTaskId"]),formattedDueDate:{get(){return this.formatDateForInput(this.formData.due_date)},set(t){this.formData.due_date=this.parseDateFromInput(t)}}},watch:{editingTask(t){t?this.formData={...t,premise:t.premise?t.premise:{address:"",apartments_count:""}}:this.clearFormData()}},methods:{...(0,h.i0)(["closePopup","createAppeal","editAppeal"]),async submitAppeal(){try{console.log("Отправка данных:",this.formData),this.editingTask?await this.editAppeal({taskId:this.editingTaskId,formData:this.formData}):await this.createAppeal(this.formData),this.closePopup(),this.clearFormData()}catch(t){this.closePopup(),alert("Ошибка при создании/редактировании заявки: ",t),this.clearFormData()}},clearFormData(){this.formData={premise:{address:"",apartments_count:""},due_date:"",applicant:{last_name:"",first_name:"",patronymic_name:"",username:""},description:""}},formatDateForInput(t){if(!t)return"";const e=new Date(t),a=e.getFullYear(),s=(e.getMonth()+1).toString().padStart(2,"0"),i=e.getDate().toString().padStart(2,"0"),r=e.getHours().toString().padStart(2,"0"),o=e.getMinutes().toString().padStart(2,"0");return`${a}-${s}-${i}T${r}:${o}`},parseDateFromInput(t){if(!t)return"";const[e,a]=t.split("T"),[s,i,r]=e.split("-").map(Number),[o,n]=a.split(":").map(Number),p=new Date(s,i-1,r,o,n);return p.toISOString()}}}),F=L,K=(0,p.A)(F,Q,M,!1,null,"5c66871a",null),U=K.exports,j={name:"TasksList",components:{BasePagination:$,BasePopup:U},data(){return{searchQuery:"",filteredQuery:"",addressSearchQuery:"",filteredAddressQuery:""}},computed:{...(0,h.aH)(["tasks"]),filteredTasks(){if(!this.filteredQuery&&!this.filteredAddressQuery)return this.tasks.results;const t=this.filteredQuery.toLowerCase(),e=this.filteredAddressQuery.toLowerCase();return this.tasks.results.filter((a=>{const s=a.id.toString().slice(0,2).toLowerCase()===t.slice(0,2),i=a.description&&a.description.toLowerCase().includes(t),r=a.premise&&a.premise.address.toLowerCase().includes(e);return(s||i)&&(!e||r)}))}},methods:{...(0,h.i0)(["fetchTasks","openPopup","closePopup","setEditingTask"]),formatDate:x,formatDateWithTime:O,openEditPopup(t){this.setEditingTask(t)},onSearchClick(){this.filteredQuery=this.searchQuery,this.updateUrlSearch()},onAddressSearchClick(){this.filteredAddressQuery=this.addressSearchQuery,this.updateUrlSearch()},updateUrlSearch(){const t=new URLSearchParams;this.filteredQuery&&t.set("search",this.filteredQuery),this.filteredAddressQuery&&t.set("premise_id=",this.filteredAddressQuery),window.history.pushState(null,"","?"+t.toString())}},mounted(){this.fetchTasks()}},B=j,H=(0,p.A)(B,E,A,!1,null,"1a98aae6",null),W=H.exports,q={name:"TasksPage",components:{TasksList:W}},Y=q,Z=(0,p.A)(Y,y,D,!1,null,"528f60b0",null),J=Z.exports;s.Ay.use(u.Ay);var V=new u.Ay({mode:"history",routes:[{path:"/",name:"App",component:l,redirect:"/auth"},{path:"/auth",name:"AuthPage",component:k},{path:"/tasks",name:"TasksList",component:J}]}),X=a(4373);s.Ay.use(h.Ay);var tt=new h.Ay.Store({state:{token:null,errorMessage:null,tasks:[],isCreatePopupOpen:!1,currentPage:1,pageSize:10,editingTask:null,editingTaskId:null},mutations:{SET_TOKEN(t,e){t.token=e},SET_ERROR_MESSAGE(t,e){t.errorMessage=e},SET_TASKS(t,e){t.tasks=e},SET_OPEN_POPUP(t){t.isCreatePopupOpen=!0},SET_CLOSE_POPUP(t){t.isCreatePopupOpen=!1},SET_CURRENT_PAGE(t,e){t.currentPage=e},SET_PAGE_SIZE(t,e){t.pageSize=e},SET_EDITING_TASK(t,e){t.editingTask=e},SET_EDITING_TASK_ID(t,e){t.editingTaskId=e},CLEAR_EDITING_TASK(t){t.editingTask=null,t.editingTaskId=null}},actions:{async login({commit:t},{credentials:e,router:a}){try{const s=await X.A.post("https://dev.moydomonline.ru/api/auth/login/",e),i=s.data.key;t("SET_TOKEN",i),t("SET_ERROR_MESSAGE",null),a.push("/tasks?page=1&page_size=10")}catch{t("SET_TOKEN",null),t("SET_ERROR_MESSAGE","Некорректные данные")}},async fetchTasks({commit:t,state:e},{page:a=1,pageSize:s=10}={}){if(!e.token)return console.error("Токен не установлен"),void("/auth"!==V.currentRoute.path&&V.push("/auth"));try{const i=await X.A.get("https://dev.moydomonline.ru/api/appeals/v1.0/appeals/",{headers:{Authorization:`Token ${e.token}`},params:{page:a,page_size:s}});t("SET_TASKS",i.data),t("SET_CURRENT_PAGE",a),t("SET_PAGE_SIZE",s)}catch(i){i.response&&401===i.response.status?(t("SET_TOKEN",null),t("SET_ERROR_MESSAGE","Неверный токен"),"/auth"!==V.currentRoute.path&&V.push("/auth")):t("SET_ERROR_MESSAGE","Некорректные данные")}},openPopup({commit:t}){t("SET_OPEN_POPUP")},closePopup({commit:t}){t("SET_CLOSE_POPUP"),t("CLEAR_EDITING_TASK")},async createAppeal({state:t},e){try{const a=await X.A.post("https://dev.moydomonline.ru/api/appeals/v1.0/appeals/",e,{headers:{Authorization:`Token ${t.token}`}});return console.log("Заявка создана:",a.data),a.data}catch(a){throw a.response&&401===a.response.status?"/auth"!==V.currentRoute.path&&V.push("/auth"):console.error("Ошибка при создании заявки:",a),a}},async editAppeal({state:t,commit:e},{taskId:a,formData:s}){try{const i=await X.A.patch(`https://dev.moydomonline.ru/api/appeals/v1.0/appeals/${a}/`,s,{headers:{Authorization:`Token ${t.token}`}});return console.log("Заявка отредактирована:",i.data),e("SET_EDITING_TASK",null),e("SET_EDITING_TASK_ID",null),i.data}catch(i){throw i.response&&401===i.response.status?(e("SET_TOKEN",null),e("SET_ERROR_MESSAGE","Неверный токен"),"/auth"!==V.currentRoute.path&&V.push("/auth")):console.error("Ошибка при редактировании заявки:",i),i}},setEditingTask({commit:t},e){t("SET_EDITING_TASK",e),t("SET_EDITING_TASK_ID",e.id),t("SET_OPEN_POPUP")}}}),et=a(8821),at=a.n(et);s.Ay.config.productionTip=!1,s.Ay.use(at()),new s.Ay({router:V,store:tt,render:t=>t(l)}).$mount("#app")},7446:function(t,e,a){t.exports=a.p+"img/arrow-bottom.e258af63.svg"},6688:function(t,e,a){t.exports=a.p+"img/arrow-up.4af0125f.svg"},4426:function(t,e,a){t.exports=a.p+"img/eye.82e179e0.svg"},2687:function(t,e,a){t.exports=a.p+"img/last.c2fb6ad9.svg"},5482:function(t,e,a){t.exports=a.p+"img/lock.6c887fd6.svg"},2396:function(t,e,a){t.exports=a.p+"img/next.5fca4c78.svg"},6345:function(t,e,a){t.exports=a.p+"img/phone.b0ce6fb3.svg"},2616:function(t,e,a){t.exports=a.p+"img/prew-to-first.6bb8d20d.svg"},3562:function(t,e,a){t.exports=a.p+"img/prew.f24c3337.svg"},4343:function(t,e,a){t.exports=a.p+"img/search.9823dfc0.svg"}},e={};function a(s){var i=e[s];if(void 0!==i)return i.exports;var r=e[s]={exports:{}};return t[s].call(r.exports,r,r.exports,a),r.exports}a.m=t,function(){var t=[];a.O=function(e,s,i,r){if(!s){var o=1/0;for(l=0;l<t.length;l++){s=t[l][0],i=t[l][1],r=t[l][2];for(var n=!0,p=0;p<s.length;p++)(!1&r||o>=r)&&Object.keys(a.O).every((function(t){return a.O[t](s[p])}))?s.splice(p--,1):(n=!1,r<o&&(o=r));if(n){t.splice(l--,1);var c=i();void 0!==c&&(e=c)}}return e}r=r||0;for(var l=t.length;l>0&&t[l-1][2]>r;l--)t[l]=t[l-1];t[l]=[s,i,r]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.p="/applications/"}(),function(){var t={524:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var i,r,o=s[0],n=s[1],p=s[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(i in n)a.o(n,i)&&(a.m[i]=n[i]);if(p)var l=p(a)}for(e&&e(s);c<o.length;c++)r=o[c],a.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return a.O(l)},s=self["webpackChunkapplications"]=self["webpackChunkapplications"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[504],(function(){return a(1433)}));s=a.O(s)})();
//# sourceMappingURL=app.bdc070bd.js.map